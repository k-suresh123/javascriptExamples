
<script>
 function printgrid(grid)
 {
   for(var i =0;i < grid.length;i++)
   {
      console.log(grid[i].join(' '));
   
   }
   
 
 }
 
 
 function create2DGrid(size)
 {
   let i = size;
   const grid = [];
   while(i--)grid.push(new Array(size));
   return grid;
 
 }

  function createSpiral(n)
  {
     const spiral = create2DGrid(n)
	 // console.log(spiral);
  
	 let currentNumber = 1;
	 let i=0;
	 let j= 0;
	 let di=0;
	 let dj = 1;
	 
	 while(currentNumber <= n*n)
	 {
	   spiral[i][j] = currentNumber++;
	   console.log("i="+i)
	   console.log("J="+j)
	   console.log("di="+di)
	   console.log("dJ="+dj)  
	   console.log("value="+ spiral[i][j]);
	   console.log("first step="+currentNumber);
	   
	   
	   if( j+dj === n || i+di === n || j+dj === -1 || spiral[i + di][j + dj] )
	   { 
	   console.log("fir:"+j+dj+"="+n);
	   
	   console.log("sec:"+i+di+"="+n);
	   console.log("thr:"+j+dj+"="+"-1");
	  // if(isNan(spiral[i + di][j + dj]))
	  //console.log("fourth:"+spiral[i + di][j + dj])
	   
	   
	   
	 
	     const tmpDi = di;
		 di = dj;
		 dj = -tmpDi;
	   }
	   i += di;
	   j += dj;
	    
	  }
	   return spiral
	   
	 
	 
  
  
  }

 printgrid(createSpiral(3));
</script> 